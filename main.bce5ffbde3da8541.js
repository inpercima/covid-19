"use strict";(self.webpackChunkcovid_19=self.webpackChunkcovid_19||[]).push([["main"],{2944:(d,b,o)=>{var p=o(1481),t=o(1571),u=o(6895),T=o(878),A=o(3854),x=o(5823),U=o(8746);var i=o(8182),h=o(1576),D=o(4004),Z=o(6370);let F=(()=>{class a{constructor(e){this.http=e,this.pipe=new u.uU("de-DE")}createDate(e,s){const r={datasets:[{data:[],label:`Novel COVID-19 cases by date in ${s}`},{data:[],label:`Novel COVID-19 cases by date in ${s} cumultated`}],labels:[]};let l=0;return this.loadData(e).pipe((0,D.U)(c=>{for(let y of c.entries())r.datasets[0].data.push(y[1]),r.datasets[1].data.push(l+=y[1]),r.labels.push(this.pipe.transform(new Date(y[0]),"dd.MM.yyyy"));return r}))}loadData(e){const s=new Map;return this.loadDataFromArcgis(e).pipe((0,D.U)(r=>(r.features.forEach(l=>{const c=l.attributes;s.set(c.Meldedatum,c.AnzahlFaelle)}),s)))}loadDataFromArcgis(e){return this.http.get("https://services7.arcgis.com/mOBPykOjAyBO2ZKk/ArcGIS/rest/services/Covid19_RKI_Sums/FeatureServer/0/query",{params:{f:"json",where:`AnzahlFall > 0 ${e}`,outFields:"AnzahlFall,Meldedatum",groupByFieldsForStatistics:"Meldedatum",outStatistics:'[{"statisticType": "sum", "onStatisticField": "AnzahlFall", "outStatisticFieldName": "AnzahlFaelle"}]',orderByFields:"Meldedatum",resultType:"standard"}})}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(Z.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var C=o(1518),g=o(3546);function _(a,n){if(1&a&&t._UZ(0,"canvas",9),2&a){const e=t.oxw();t.Q6J("data",e.cdGermany)("options",e.chartOptions)}}function O(a,n){1&a&&t._uU(0," Loading... ")}function M(a,n){if(1&a&&t._UZ(0,"canvas",9),2&a){const e=t.oxw();t.Q6J("data",e.cdSaxony)("options",e.chartOptions)}}function L(a,n){1&a&&t._uU(0," Loading... ")}function N(a,n){if(1&a&&t._UZ(0,"canvas",9),2&a){const e=t.oxw();t.Q6J("data",e.cdLeipzig)("options",e.chartOptions)}}function z(a,n){1&a&&t._uU(0," Loading... ")}let G=(()=>{class a{constructor(e){this.dataService=e,this.chartData={datasets:[],labels:[]},this.cdGermany=this.chartData,this.cdSaxony=this.chartData,this.cdLeipzig=this.chartData,this.chartOptions={responsive:!0}}ngOnInit(){this.dataService.createDate("","Germany").subscribe(e=>this.cdGermany=e),this.dataService.createDate("AND (Bundesland='Sachsen')","Saxony").subscribe(e=>this.cdSaxony=e),this.dataService.createDate("AND (IdLandkreis='14713')","Leipzig").subscribe(e=>this.cdLeipzig=e)}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(F))},a.\u0275cmp=t.Xpm({type:a,selectors:[["covid-dashboard"]],decls:32,vars:6,consts:[["fxLayout","row","fxLayoutAlign","center"],["fxFlex","90","fxFlex.sm","80","fxFlex.gt-sm","60"],["baseChart","","chartType","line",3,"data","options",4,"ngIf","ngIfElse"],["loadingGermany",""],["loadingSaxony",""],["loadingLeipzig",""],[2,"margin-bottom","20px"],["href","https://corona.rki.de","target","_blank"],["href","https://services7.arcgis.com/mOBPykOjAyBO2ZKk/ArcGIS/rest/services/RKI_COVID19/FeatureServer/0/query","target","_blank"],["baseChart","","chartType","line",3,"data","options"]],template:function(e,s){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-card")(3,"mat-card-content"),t.YNc(4,_,1,2,"canvas",2),t.YNc(5,O,1,0,"ng-template",null,3,t.W1O),t.qZA()(),t.TgZ(7,"mat-card")(8,"mat-card-content"),t.YNc(9,M,1,2,"canvas",2),t.YNc(10,L,1,0,"ng-template",null,4,t.W1O),t.qZA()(),t.TgZ(12,"mat-card")(13,"mat-card-content"),t.YNc(14,N,1,2,"canvas",2),t.YNc(15,z,1,0,"ng-template",null,5,t.W1O),t.qZA()(),t.TgZ(17,"mat-card",6)(18,"mat-card-content"),t._uU(19," Data provided by RKI (Robert Koch Institute). "),t._UZ(20,"br")(21,"br"),t._uU(22," RKI uses the data for "),t.TgZ(23,"a",7),t._uU(24,"corona.rki.de"),t.qZA(),t._uU(25,". "),t._UZ(26,"br")(27,"br"),t._uU(28," The data can be queryed by "),t.TgZ(29,"a",8),t._uU(30,"ArcGIS REST Services Directory"),t.qZA(),t._uU(31,". "),t.qZA()()()()),2&e){const r=t.MAs(6),l=t.MAs(11),c=t.MAs(16);t.xp6(4),t.Q6J("ngIf",s.cdGermany.datasets.length)("ngIfElse",r),t.xp6(5),t.Q6J("ngIf",s.cdSaxony.datasets.length)("ngIfElse",l),t.xp6(5),t.Q6J("ngIf",s.cdLeipzig.datasets.length)("ngIfElse",c)}},dependencies:[u.O5,C.jh,h.xw,h.Wh,h.yH,g.a8,g.dn],encapsulation:2}),a})();var v=o(4859),f=o(3683);function B(a,n){1&a&&(t.TgZ(0,"mat-dialog-content")(1,"p"),t._uU(2," Coronavirus (COVID-19) cases in Germany, Saxony and Leipzig. "),t.qZA(),t.TgZ(3,"p"),t._uU(4," Data provided by RKI (Robert Koch Institute). "),t._UZ(5,"br"),t._uU(6," RKI uses the data for "),t.TgZ(7,"a",3),t._uU(8,"corona.rki.de"),t.qZA(),t._uU(9,", same as "),t.TgZ(10,"a",4),t._uU(11,"https://experience.arcgis.com/experience/478220a4c454480e823b17327b2bf1d4"),t.qZA(),t._uU(12,". "),t._UZ(13,"br"),t._uU(14," The data can be queryed by "),t.TgZ(15,"a",5),t._uU(16,"ArcGIS REST Services Directory"),t.qZA(),t._uU(17,". "),t.qZA()(),t.TgZ(18,"mat-dialog-actions",6)(19,"button",7),t._uU(20,"Close"),t.qZA()())}let Y=(()=>{class a{constructor(e,s,r){this.dialog=e,this.titleService=s,this.overlayContainer=r,this.class="indigo-pink-theme",this.appname="COVID-19",this.titleService.setTitle(this.appname),this.overlayContainer.getContainerElement().classList.add("indigo-pink-theme")}openDialog(e){this.dialog.open(e,{maxWidth:"800px"})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(i.uw),t.Y36(p.Dx),t.Y36(A.Xj))},a.\u0275cmp=t.Xpm({type:a,selectors:[["covid-root"]],hostVars:2,hostBindings:function(e,s){2&e&&t.Tol(s.class)},decls:7,vars:1,consts:[["fxLayoutAlign","space-between center","color","primary",1,"mat-elevation-z4"],["mat-button","",3,"click"],["dialog",""],["href","https://corona.rki.de","target","_blank"],["href","https://experience.arcgis.com/experience/478220a4c454480e823b17327b2bf1d4","target","_blank"],["href","https://services7.arcgis.com/mOBPykOjAyBO2ZKk/ArcGIS/rest/services/RKI_COVID19/FeatureServer/0/query","target","_blank"],["align","end"],["mat-button","","mat-dialog-close","","cdkFocusInitial",""]],template:function(e,s){if(1&e){const r=t.EpF();t.TgZ(0,"mat-toolbar",0),t._uU(1),t.TgZ(2,"button",1),t.NdJ("click",function(){t.CHM(r);const c=t.MAs(5);return t.KtG(s.openDialog(c))}),t._uU(3,"APP INFO"),t.qZA()(),t.YNc(4,B,21,0,"ng-template",null,2,t.W1O),t._UZ(6,"covid-dashboard")}2&e&&(t.xp6(1),t.hij(" ",s.appname," "))},dependencies:[h.Wh,G,v.lW,i.ZT,i.xY,i.H8,f.Ye],styles:["body[_ngcontent-%COMP%]{font-family:Roboto,Helvetica Neue Light,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;margin:0;overflow-y:scroll}.mat-card[_ngcontent-%COMP%]{margin-top:20px}"]}),a})();var S=o(3162);let I=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[u.ez,v.ot,g.QW,i.Is,S.Cv,f.g0,v.ot,g.QW,i.Is,S.Cv,f.g0]}),a})(),k=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[u.ez,C.vQ,Z.JF,x.o9,I]}),a})();(0,u.qS)(T.Z);let K=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a,bootstrap:[Y]}),a.\u0275inj=t.cJS({imports:[U.PW,p.b2,x.o9,A.U8,k,I]}),a})();(0,t.G48)(),p.q6().bootstrapModule(K).catch(a=>console.error(a))}},d=>{d.O(0,["vendor"],()=>d(d.s=2944)),d.O()}]);