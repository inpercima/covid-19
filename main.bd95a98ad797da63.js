"use strict";(self.webpackChunkcovid_19=self.webpackChunkcovid_19||[]).push([["main"],{1432:(l,g,s)=>{var p=s(6593),v=s(9451),f=s(5306),t=s(9468),C=s(349);const Z={providers:[(0,t.RIp)(p.b2,v.U8),(0,f.h_)(),(0,C.iQ)()]};var c=s(7667),b=s(2296),y=s(1274);var _=s(6814),m=s(5195),A=s(1091),D=s(7398);let x=(()=>{class e{constructor(a){this.http=a,this.pipe=new _.uU("de-DE")}createDate(a,n){const r={datasets:[{data:[],label:`Novel COVID-19 cases by date in ${n}`},{data:[],label:`Novel COVID-19 cases by date in ${n} cumultated`}],labels:[]};let d=0;return this.loadData(a).pipe((0,D.U)(i=>{for(const h of i.entries())r.datasets[0].data.push(h[1]),r.datasets[1].data.push(d+=h[1]),r.labels.push(this.pipe.transform(new Date(h[0]),"dd.MM.yyyy"));return r}))}loadData(a){const n=new Map;return this.loadDataFromArcgis(a).pipe((0,D.U)(r=>(r.features.forEach(d=>{const i=d.attributes;n.set(i.Meldedatum,i.AnzahlFaelle)}),n)))}loadDataFromArcgis(a){return this.http.get("https://services7.arcgis.com/mOBPykOjAyBO2ZKk/ArcGIS/rest/services/Covid19_RKI_Sums/FeatureServer/0/query",{params:{f:"json",where:`AnzahlFall > 0 ${a}`,outFields:"AnzahlFall,Meldedatum",groupByFieldsForStatistics:"Meldedatum",outStatistics:'[{"statisticType": "sum", "onStatisticField": "AnzahlFall", "outStatisticFieldName": "AnzahlFaelle"}]',orderByFields:"Meldedatum",resultType:"standard"}})}}return e.\u0275fac=function(a){return new(a||e)(t.LFG(f.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function S(e,o){if(1&e&&t._UZ(0,"canvas",8),2&e){const a=t.oxw();t.Q6J("data",a.cdGermany)("options",a.chartOptions)}}function T(e,o){1&e&&t._uU(0," Loading... ")}function U(e,o){if(1&e&&t._UZ(0,"canvas",8),2&e){const a=t.oxw();t.Q6J("data",a.cdSaxony)("options",a.chartOptions)}}function I(e,o){1&e&&t._uU(0," Loading... ")}function O(e,o){if(1&e&&t._UZ(0,"canvas",8),2&e){const a=t.oxw();t.Q6J("data",a.cdLeipzig)("options",a.chartOptions)}}function F(e,o){1&e&&t._uU(0," Loading... ")}let k=(()=>{class e{constructor(a){this.dataService=a,this.chartData={datasets:[],labels:[]},this.cdGermany=this.chartData,this.cdSaxony=this.chartData,this.cdLeipzig=this.chartData,this.chartOptions={responsive:!0}}ngOnInit(){this.dataService.createDate("","Germany").subscribe(a=>this.cdGermany=a),this.dataService.createDate("AND (Bundesland='Sachsen')","Saxony").subscribe(a=>this.cdSaxony=a),this.dataService.createDate("AND (IdLandkreis='14713')","Leipzig").subscribe(a=>this.cdLeipzig=a)}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(x))},e.\u0275cmp=t.Xpm({type:e,selectors:[["covid-dashboard"]],standalone:!0,features:[t.jDz],decls:27,vars:6,consts:[[1,"w-7/12","mx-auto"],["baseChart","","chartType","line",3,"data","options",4,"ngIf","ngIfElse"],["loadingGermany",""],["loadingSaxony",""],["loadingLeipzig",""],[1,"w-7/12","mx-auto","mb-5"],["href","https://corona.rki.de","target","_blank"],["href","https://services7.arcgis.com/mOBPykOjAyBO2ZKk/ArcGIS/rest/services/Covid19_RKI_Sums/FeatureServer/0/query","target","_blank"],["baseChart","","chartType","line",3,"data","options"]],template:function(a,n){if(1&a&&(t.TgZ(0,"mat-card",0)(1,"mat-card-content"),t.YNc(2,S,1,2,"canvas",1),t.YNc(3,T,1,0,"ng-template",null,2,t.W1O),t.qZA()(),t.TgZ(5,"mat-card",0)(6,"mat-card-content"),t.YNc(7,U,1,2,"canvas",1),t.YNc(8,I,1,0,"ng-template",null,3,t.W1O),t.qZA()(),t.TgZ(10,"mat-card",0)(11,"mat-card-content"),t.YNc(12,O,1,2,"canvas",1),t.YNc(13,F,1,0,"ng-template",null,4,t.W1O),t.qZA()(),t.TgZ(15,"mat-card",5)(16,"mat-card-content"),t._uU(17," Data provided by RKI (Robert Koch Institute), using the data for "),t.TgZ(18,"a",6),t._uU(19,"corona.rki.de"),t.qZA(),t._uU(20,". "),t._UZ(21,"br")(22,"br"),t._uU(23," The data can be queryed by "),t.TgZ(24,"a",7),t._uU(25,"ArcGIS REST Services Directory"),t.qZA(),t._uU(26,". "),t.qZA()()),2&a){const r=t.MAs(4),d=t.MAs(9),i=t.MAs(14);t.xp6(2),t.Q6J("ngIf",n.cdGermany.datasets.length)("ngIfElse",r),t.xp6(5),t.Q6J("ngIf",n.cdSaxony.datasets.length)("ngIfElse",d),t.xp6(5),t.Q6J("ngIf",n.cdLeipzig.datasets.length)("ngIfElse",i)}},dependencies:[m.QW,m.a8,m.dn,_.O5,A.vQ,A.jh],encapsulation:2}),e})();function N(e,o){1&e&&(t.TgZ(0,"h2",3),t._uU(1,"Overview"),t.qZA(),t.TgZ(2,"mat-dialog-content")(3,"p"),t._uU(4," Coronavirus (COVID-19) cases in Germany, Saxony and Leipzig. "),t._UZ(5,"br"),t._uU(6," Data provided by RKI (Robert Koch Institute), using the data for "),t.TgZ(7,"a",4),t._uU(8,"corona.rki.de"),t.qZA(),t._uU(9,", same as "),t.TgZ(10,"a",5),t._uU(11,"https://experience.arcgis.com/experience/478220a4c454480e823b17327b2bf1d4"),t.qZA(),t._uU(12,". "),t._UZ(13,"br"),t._uU(14," The data can be queryed by "),t.TgZ(15,"a",6),t._uU(16,"ArcGIS REST Services Directory"),t.qZA(),t._uU(17,". "),t.qZA()(),t.TgZ(18,"mat-dialog-actions",7)(19,"button",8),t._uU(20,"Close"),t.qZA()())}(0,p.Cg)((()=>{class e{constructor(a,n,r){this.dialog=a,this.titleService=n,this.overlayContainer=r,this.class="indigo-pink-theme",this.appname="COVID-19",this.titleService.setTitle(this.appname),this.overlayContainer.getContainerElement().classList.add("indigo-pink-theme")}openDialog(a){this.dialog.open(a,{maxWidth:"800px"})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(c.uw),t.Y36(p.Dx),t.Y36(v.Xj))},e.\u0275cmp=t.Xpm({type:e,selectors:[["covid-root"]],hostVars:2,hostBindings:function(a,n){2&a&&t.Tol(n.class)},standalone:!0,features:[t.jDz],decls:7,vars:1,consts:[["fxLayoutAlign","space-between center","color","primary",1,"mat-elevation-z4","justify-between"],["mat-button","",3,"click"],["dialog",""],["mat-dialog-title",""],["href","https://corona.rki.de","target","_blank"],["href","https://experience.arcgis.com/experience/478220a4c454480e823b17327b2bf1d4","target","_blank"],["href","https://services7.arcgis.com/mOBPykOjAyBO2ZKk/ArcGIS/rest/services/Covid19_RKI_Sums/FeatureServer/0/query","target","_blank"],["align","end"],["mat-button","","mat-dialog-close","","cdkFocusInitial",""]],template:function(a,n){if(1&a){const r=t.EpF();t.TgZ(0,"mat-toolbar",0),t._uU(1),t.TgZ(2,"button",1),t.NdJ("click",function(){t.CHM(r);const i=t.MAs(5);return t.KtG(n.openDialog(i))}),t._uU(3,"APP INFO"),t.qZA()(),t.YNc(4,N,21,0,"ng-template",null,2,t.W1O),t._UZ(6,"covid-dashboard")}2&a&&(t.xp6(1),t.hij(" ",n.appname," "))},dependencies:[b.ot,b.lW,c.Is,c.ZT,c.uh,c.xY,c.H8,y.g0,y.Ye,k],styles:["body[_ngcontent-%COMP%]{font-family:Roboto,Helvetica Neue Light,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;margin:0;overflow-y:scroll}mat-card[_ngcontent-%COMP%]{margin-top:20px}"]}),e})(),Z).catch(e=>console.error(e))}},l=>{l.O(0,["vendor"],()=>l(l.s=1432)),l.O()}]);