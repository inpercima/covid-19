"use strict";(self.webpackChunkcovid_19=self.webpackChunkcovid_19||[]).push([["main"],{2944:(m,D,o)=>{var h=o(1481),g=o(6895),I=o(878),_=o(3854),y=o(3683),F=o(8746);var t=o(1571),c=o(5345),C=o(4004),x=o(6370);class d{constructor(a){this.http=a,this.pipe=new g.uU("de-DE")}createDate(a,n){const s={datasets:[{data:[],label:`Novel COVID-19 cases by date in ${n}`},{data:[],label:`Novel COVID-19 cases by date in ${n} cumultated`}],labels:[]};let u=0;return this.loadData(a).pipe((0,C.U)(r=>{for(const Z of r.entries())s.datasets[0].data.push(Z[1]),s.datasets[1].data.push(u+=Z[1]),s.labels.push(this.pipe.transform(new Date(Z[0]),"dd.MM.yyyy"));return s}))}loadData(a){const n=new Map;return this.loadDataFromArcgis(a).pipe((0,C.U)(s=>(s.features.forEach(u=>{const r=u.attributes;n.set(r.Meldedatum,r.AnzahlFaelle)}),n)))}loadDataFromArcgis(a){return this.http.get("https://services7.arcgis.com/mOBPykOjAyBO2ZKk/ArcGIS/rest/services/Covid19_RKI_Sums/FeatureServer/0/query",{params:{f:"json",where:`AnzahlFall > 0 ${a}`,outFields:"AnzahlFall,Meldedatum",groupByFieldsForStatistics:"Meldedatum",outStatistics:'[{"statisticType": "sum", "onStatisticField": "AnzahlFall", "outStatisticFieldName": "AnzahlFaelle"}]',orderByFields:"Meldedatum",resultType:"standard"}})}}d.\u0275fac=function(a){return new(a||d)(t.LFG(x.eN))},d.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"});var T=o(216),b=o(3546);function O(e,a){if(1&e&&t._UZ(0,"canvas",8),2&e){const n=t.oxw();t.Q6J("data",n.cdGermany)("options",n.chartOptions)}}function M(e,a){1&e&&t._uU(0," Loading... ")}function N(e,a){if(1&e&&t._UZ(0,"canvas",8),2&e){const n=t.oxw();t.Q6J("data",n.cdSaxony)("options",n.chartOptions)}}function z(e,a){1&e&&t._uU(0," Loading... ")}function L(e,a){if(1&e&&t._UZ(0,"canvas",8),2&e){const n=t.oxw();t.Q6J("data",n.cdLeipzig)("options",n.chartOptions)}}function k(e,a){1&e&&t._uU(0," Loading... ")}class v{constructor(a){this.dataService=a,this.chartData={datasets:[],labels:[]},this.cdGermany=this.chartData,this.cdSaxony=this.chartData,this.cdLeipzig=this.chartData,this.chartOptions={responsive:!0}}ngOnInit(){this.dataService.createDate("","Germany").subscribe(a=>this.cdGermany=a),this.dataService.createDate("AND (Bundesland='Sachsen')","Saxony").subscribe(a=>this.cdSaxony=a),this.dataService.createDate("AND (IdLandkreis='14713')","Leipzig").subscribe(a=>this.cdLeipzig=a)}}v.\u0275fac=function(a){return new(a||v)(t.Y36(d))},v.\u0275cmp=t.Xpm({type:v,selectors:[["covid-dashboard"]],decls:27,vars:6,consts:[[1,"w-7/12","mx-auto"],["baseChart","","chartType","line",3,"data","options",4,"ngIf","ngIfElse"],["loadingGermany",""],["loadingSaxony",""],["loadingLeipzig",""],[1,"w-7/12","mx-auto","mb-5"],["href","https://corona.rki.de","target","_blank"],["href","https://services7.arcgis.com/mOBPykOjAyBO2ZKk/ArcGIS/rest/services/Covid19_RKI_Sums/FeatureServer/0/query","target","_blank"],["baseChart","","chartType","line",3,"data","options"]],template:function(a,n){if(1&a&&(t.TgZ(0,"mat-card",0)(1,"mat-card-content"),t.YNc(2,O,1,2,"canvas",1),t.YNc(3,M,1,0,"ng-template",null,2,t.W1O),t.qZA()(),t.TgZ(5,"mat-card",0)(6,"mat-card-content"),t.YNc(7,N,1,2,"canvas",1),t.YNc(8,z,1,0,"ng-template",null,3,t.W1O),t.qZA()(),t.TgZ(10,"mat-card",0)(11,"mat-card-content"),t.YNc(12,L,1,2,"canvas",1),t.YNc(13,k,1,0,"ng-template",null,4,t.W1O),t.qZA()(),t.TgZ(15,"mat-card",5)(16,"mat-card-content"),t._uU(17," Data provided by RKI (Robert Koch Institute), using the data for "),t.TgZ(18,"a",6),t._uU(19,"corona.rki.de"),t.qZA(),t._uU(20,". "),t._UZ(21,"br")(22,"br"),t._uU(23," The data can be queryed by "),t.TgZ(24,"a",7),t._uU(25,"ArcGIS REST Services Directory"),t.qZA(),t._uU(26,". "),t.qZA()()),2&a){const s=t.MAs(4),u=t.MAs(9),r=t.MAs(14);t.xp6(2),t.Q6J("ngIf",n.cdGermany.datasets.length)("ngIfElse",s),t.xp6(5),t.Q6J("ngIf",n.cdSaxony.datasets.length)("ngIfElse",u),t.xp6(5),t.Q6J("ngIf",n.cdLeipzig.datasets.length)("ngIfElse",r)}},dependencies:[g.O5,T.jh,b.a8,b.dn],encapsulation:2});var S=o(4859);function G(e,a){1&e&&(t.TgZ(0,"h2",3),t._uU(1,"Overview"),t.qZA(),t.TgZ(2,"mat-dialog-content")(3,"p"),t._uU(4," Coronavirus (COVID-19) cases in Germany, Saxony and Leipzig. "),t._UZ(5,"br"),t._uU(6," Data provided by RKI (Robert Koch Institute), using the data for "),t.TgZ(7,"a",4),t._uU(8,"corona.rki.de"),t.qZA(),t._uU(9,", same as "),t.TgZ(10,"a",5),t._uU(11,"https://experience.arcgis.com/experience/478220a4c454480e823b17327b2bf1d4"),t.qZA(),t._uU(12,". "),t._UZ(13,"br"),t._uU(14," The data can be queryed by "),t.TgZ(15,"a",6),t._uU(16,"ArcGIS REST Services Directory"),t.qZA(),t._uU(17,". "),t.qZA()(),t.TgZ(18,"mat-dialog-actions",7)(19,"button",8),t._uU(20,"Close"),t.qZA()())}class f{constructor(a,n,s){this.dialog=a,this.titleService=n,this.overlayContainer=s,this.class="indigo-pink-theme",this.appname="COVID-19",this.titleService.setTitle(this.appname),this.overlayContainer.getContainerElement().classList.add("indigo-pink-theme")}openDialog(a){this.dialog.open(a,{maxWidth:"800px"})}}f.\u0275fac=function(a){return new(a||f)(t.Y36(c.uw),t.Y36(h.Dx),t.Y36(_.Xj))},f.\u0275cmp=t.Xpm({type:f,selectors:[["covid-root"]],hostVars:2,hostBindings:function(a,n){2&a&&t.Tol(n.class)},decls:7,vars:1,consts:[["fxLayoutAlign","space-between center","color","primary",1,"mat-elevation-z4","justify-between"],["mat-button","",3,"click"],["dialog",""],["mat-dialog-title",""],["href","https://corona.rki.de","target","_blank"],["href","https://experience.arcgis.com/experience/478220a4c454480e823b17327b2bf1d4","target","_blank"],["href","https://services7.arcgis.com/mOBPykOjAyBO2ZKk/ArcGIS/rest/services/Covid19_RKI_Sums/FeatureServer/0/query","target","_blank"],["align","end"],["mat-button","","mat-dialog-close","","cdkFocusInitial",""]],template:function(a,n){if(1&a){const s=t.EpF();t.TgZ(0,"mat-toolbar",0),t._uU(1),t.TgZ(2,"button",1),t.NdJ("click",function(){t.CHM(s);const r=t.MAs(5);return t.KtG(n.openDialog(r))}),t._uU(3,"APP INFO"),t.qZA()(),t.YNc(4,G,21,0,"ng-template",null,2,t.W1O),t._UZ(6,"covid-dashboard")}2&a&&(t.xp6(1),t.hij(" ",n.appname," "))},dependencies:[y.Ye,v,S.lW,c.ZT,c.uh,c.xY,c.H8],styles:["body[_ngcontent-%COMP%]{font-family:Roboto,Helvetica Neue Light,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;margin:0;overflow-y:scroll}mat-card[_ngcontent-%COMP%]{margin-top:20px}"]});var U=o(3162);class i{}i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[g.ez,S.ot,b.QW,c.Is,U.Cv,y.g0,S.ot,b.QW,c.Is,U.Cv,y.g0]});class l{}l.\u0275fac=function(a){return new(a||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[g.ez,T.vQ,x.JF,i]}),(0,g.qS)(I.Z);class p{}p.\u0275fac=function(a){return new(a||p)},p.\u0275mod=t.oAB({type:p,bootstrap:[f]}),p.\u0275inj=t.cJS({imports:[F.PW,h.b2,y.g0,_.U8,l,i]}),h.q6().bootstrapModule(p).catch(e=>console.error(e))}},m=>{m.O(0,["vendor"],()=>m(m.s=2944)),m.O()}]);